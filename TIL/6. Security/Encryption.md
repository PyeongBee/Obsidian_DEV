### 1. JWT
- JWT 토큰을 생성할 때는 보통 비대칭키를 사용한다.

### 2. 비대칭키
- 대칭하지 않은 키.
- 대칭키와는 다르게, 키가 2개.
- 암호화, 복호화 시의 키가 다르다.
- 암호화를 할 때는 비밀키.
- 복호화를 할 때는 공개키. 말 그대로 공개되는 키. 누구나 공개키를 가지고 복호화를 할 수 있다.
- 공개키를 가진 누구든 원본 정보를 볼 수 있고, 수정할 수도 있다.
- 하지만, 암호화에 필요한 비밀키는 알 수 없기에 데이터를 수정 후 암호화를 할 수가 없다.
- 이에 따라, 비밀키를 가진 쪽에서 원본 데이터가 변조됐다는 사실을 파악할 수 있다.
- 로그인에 필요한 비밀번호나 민감정보 등과 같이 원본 자체가 중요한 정보에는 부적합하다.
- 누구에게나 공개가 되도 비교적 덜민감한 정보이지만 변조 여부가 중요한 정보에 적합하다.
- JWT에서는 payload에 입력되는 정보들이 비대칭 암호화 대상이 아니라, JWT signature가 비대칭 암호화 대상이다.
- 이 서명이 변조되었는 지 여부에 따라 공개키로 검증 시, payload의 정보가 일부 수정되었는 지를 확인 가능하다.
- payload를 원본 그대로 싣지는 않고, Base64 인코딩이 되어 실린다.

### 3. 대칭키


### 단방향 암호화
- 복호화가 불가능한 암호화다.
- 주로, 비밀번호와 같이 보안이 강하게 필요한 정보에 사용한다

#### 단방향 암호화의 종류
1. **MD5 (Message-Digest algorithm 5)**
	- 128비트 암호학 해시 함수
	- 현재는 안전하지 않아서 사용하지 않는다
2. **SHA-1**
3. **SHA-2(SHA-256)**
	- 어떤 길이의 메시지도 256bits의 축약된 다이제스트(암호화된 메시지)로 만드는 알고리즘
	- 경우의 수가 2^256
	- **Brute Force 공격(무차별 대입 공격)** 에 대해 비교적 안전하다
	- **BUT!** 같은 메시지에 대해 같은 다이제스트가 나와서 **Rainbow table** 문제가 있다

#### Rainbow table
- 동일한 메시지에 동일한 다이제스트가 나오므로, 다이제스트를 보고 메시지를 유추할 수 있다
- 변환 가능한 모든 값의 해시 값을 모아놓은 표
- 이걸 보고 비교적 단순한 문자열에 대해서 암호화해놓은 것들은 찾아볼 수가 있다...

#### Salt (솔트)
- 그러면, 나의 암호화된 비밀번호를 rainbow table을 보고 누군가 유추할 수도 있다는 것
- 이를 방지하기 위해 salt 개념이 등장했다
- 같은 비밀번호에도 매번 달라지는 salt를 추가하여 암호화를 하는 것이다
- salt는 128bits는 되어야 안전하다
- 해시된 암호를 또 N번 반복해서 해싱하기도 한다
![[Pasted image 20240703214920.png]]